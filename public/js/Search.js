define(["jquery","App"],function(e){e(function(){e("#scroll").on("scroll",function(){var t=document.getElementById("scroll").pageYOffset||document.getElementById("scroll").scrollTop,i=e("#search-by-vin-container"),n=e("#sticker-clone"),a=n.find(".b-formsearch-container"),o="";t>115?(n.removeClass("hidden").addClass("additional"),""!==(o=i.html())&&(i.css("height",i.innerHeight()+"px").empty(),a.html(o))):(n.addClass("hidden").removeClass("additional"),a.find(".hint").hide(),""!==(o=a.html())&&(a.empty(),i.html(o)))}),e(document).on("click","#submit-search-by-vin",function(t){t.preventDefault(),e("input.form-control").val(e("input.form-control").val().toUpperCase()),"undefined"!=typeof yaCounter45455697&&yaCounter45455697.reachGoal("poisk_katalogi_zapchastej");var i=e(this).closest("form"),n=i.attr("action");e("#search-error-hint").hide();var a=e("input.form-control").val().replace(/ /g,"-");return a&&(a.length<8||a.length>20)?e("#search-error-hint").html("Некорректное количество символов <br> для VIN/FRAME номера").show():a.match(/[^0-9a-hj-npr-zA-HJ-NPR-Z]/)&&17===a.length?e("#search-error-hint").html("Некорректные символы для VIN-номера,<br> проверьте введенный номер").show():a&&17!==a.length&&-1===e.trim(a).indexOf("-")?e("#search-error-hint").html("Некорректный номер кузова: код и номер <br> кузова должны быть разделены пробелом <br> или дефисом,например, WTP12-061548 или <br> WTP12 061548").show():void e.ajax({url:n,type:"POST",dataType:"json",data:i.serialize(),timeout:1e4,success:function(t){if(!t.success)return e("#search-error-hint").html(t.data.message).show();i.submit()}})}).on("keypress","#formPart-vin input",function(t){return!(t.which&&13===t.which||t.keyCode&&13===t.keyCode)||(t.preventDefault(),e("#formPart-vin #submit-search-by-vin").click(),!1)}).on("click","#table-view .view-type:not(.active)",function(){e("#table-view .view-type").removeClass("active"),e(this).addClass("active"),e(this).is(".full")?(e("#table-modifications").addClass("full"),e("#table-modifications .full-view-element").show()):e(this).is(".short")&&(e("#table-modifications").removeClass("full"),e("#table-modifications .full-view-element").hide())}),e(document).on("click",".formSearch__clear",function(){e("input.catalog-search-input").val("").trigger("change")}),e(".catalog-search-input").on("change keyup",function(){var t=e(this).val().length;e(".formSearch__clear").toggle(!!t)})}),e(".body-shadow").on("click",function(t){e(t.target).is(".hint-white")||e(".hint-white").hide()})});